<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-12-07T12:27:10-08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Code Apex</title><entry><title type="html">Deleting Duplicate Rows In SQL</title><link href="http://localhost:4000/deleting-duplicate-rows-in-sql/" rel="alternate" type="text/html" title="Deleting Duplicate Rows In SQL" /><published>2021-07-26T10:10:47-07:00</published><updated>2021-07-26T10:10:47-07:00</updated><id>http://localhost:4000/deleting-duplicate-rows-in-sql</id><content type="html" xml:base="http://localhost:4000/deleting-duplicate-rows-in-sql/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;There is a table in our SQL database which contains rows which we consider duplicate based upon the values in some or all of the columns.&lt;/p&gt;

&lt;p&gt;We wish to delete these duplicate rows.&lt;/p&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;To demonstrate and explain a short memorable method of deleting duplicate rows in a SQL database table using a common table expression and a window function.&lt;/p&gt;

&lt;p&gt;Specifically if columns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[col1],[col2],[col5]&lt;/code&gt; define uniqueness for some table, say &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dbo.Table&lt;/code&gt;, the following query will delete duplicates:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;WITH CTE AS(&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;SELECT ROW_NUMBER()OVER(PARTITION BY col1, col2, col5 ORDER BY col1, col2, col5) AS RN&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;FROM dbo.Table&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;)&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;DELETE FROM CTE WHERE RN &amp;gt; 1&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;plan&quot;&gt;Plan:&lt;/h2&gt;

&lt;p&gt;First we define which columns being the same between rows implies the rows are duplicate or in other words what columns taken together we want unique across the table.&lt;/p&gt;

&lt;p&gt;Next we partition and enumerate each set of unique rows using a common table expression (CTE) and the window function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ROW_NUMBER()OVER()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;What this means is we are partitioning the rows into sets of the same row and for each partition assigning a 1 to the first row in the partition, 2 to the next row in the partition, 3 in the next row in the partition, and so on; call this number RN.&lt;/p&gt;

&lt;p&gt;Then we delete all such rows where the row number is greater than 1 (RN &amp;gt; 1).&lt;/p&gt;

&lt;h2 id=&quot;execution&quot;&gt;Execution:&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Example Table:&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dbo.Table&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;col1&lt;/th&gt;
      &lt;th&gt;col2&lt;/th&gt;
      &lt;th&gt;col3&lt;/th&gt;
      &lt;th&gt;col4&lt;/th&gt;
      &lt;th&gt;col5&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Alpha&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;CO&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Alpha&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;CO&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;Define uniqueness / duplicate:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Let’s say a certain set of columns from the table taken together should be unique across the table; say columns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[col1],[col2],[col5]&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enumeration / CTE part of query:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;We create a CTE for our table that partitions the rows into sets of the same row and enumerates each partition.&lt;/p&gt;

&lt;p&gt;The result of the CTE should look like this:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;col1&lt;/th&gt;
      &lt;th&gt;col2&lt;/th&gt;
      &lt;th&gt;col3&lt;/th&gt;
      &lt;th&gt;col4&lt;/th&gt;
      &lt;th&gt;col5&lt;/th&gt;
      &lt;th&gt;RN&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Alpha&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;CO&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Alpha&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;CO&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;A CTE that accomplishes this is:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;WITH CTE AS(&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;SELECT col1, col2, col5,&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;ROW_NUMBER()OVER(PARTITION BY col1, col2, col5 ORDER BY col1, col2, col5) AS RN&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;FROM dbo.Table&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The key part is we PARTITION BY the columns that define uniqueness.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Deletion part of query:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Using our CTE we delete the rows from the table where RN &amp;gt; 1 as such rows are duplicate.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DELETE FROM CTE WHERE RN &amp;gt; 1&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Result:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;After deletion our example table would look like this:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;col1&lt;/th&gt;
      &lt;th&gt;col2&lt;/th&gt;
      &lt;th&gt;col3&lt;/th&gt;
      &lt;th&gt;col4&lt;/th&gt;
      &lt;th&gt;col5&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Alpha&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;CO&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Beta&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;MN&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion:&lt;/h2&gt;

&lt;p&gt;For the CTE some of the columns in the SELECT portion are optional and were included for illustrative purposes only.&lt;/p&gt;

&lt;p&gt;Specifically only the RN column is needed since the DELETE statement only works with RN.&lt;/p&gt;

&lt;p&gt;Consequently the others can be dropped from the query without altering the end result giving us our final query:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Final query:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;WITH CTE AS(&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;SELECT ROW_NUMBER()OVER(PARTITION BY col1, col2, col5 ORDER BY col1, col2, col5) AS RN&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;FROM dbo.Table&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;)&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;DELETE FROM CTE WHERE RN &amp;gt; 1&lt;/code&gt;&lt;/p&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry><entry><title type="html">Increasing Linux VPS RAM for Free Using ZRAM - udev rule</title><link href="http://localhost:4000/increasing-linux-vps-ram-for-free-using-zram-udev-rule/" rel="alternate" type="text/html" title="Increasing Linux VPS RAM for Free Using ZRAM - udev rule" /><published>2021-01-12T15:08:10-08:00</published><updated>2021-01-12T15:08:10-08:00</updated><id>http://localhost:4000/increasing-linux-vps-ram-for-free-using-zram-udev-rule</id><content type="html" xml:base="http://localhost:4000/increasing-linux-vps-ram-for-free-using-zram-udev-rule/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;You are reaching or exceeding the RAM limits of your Linux VPS.&lt;/p&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;An increase in the amount of non-virtualized memory available to your applications on your VPS without resorting to paying for an upgraded VPS.&lt;/p&gt;

&lt;h2 id=&quot;plan--execution&quot;&gt;Plan + Execution:&lt;/h2&gt;

&lt;p&gt;Note we want an increase in the amount of fast physical memory available to our applications. Increasing virtualized memory (via an increase in swap partition or swap file sizes) would not meet our objective; though if your VPS is on SSDs then upping swap space may not be a bad option since solid state disks are substantially faster than traditional hard disks (but still not as fast as physical memory).&lt;/p&gt;

&lt;p&gt;One way of making more physical memory available to your applications is to be more efficient with the use of the RAM available. We can accomplish this by compressing data stored in memory; specifically we will use &lt;a href=&quot;http://en.wikipedia.org/wiki/Zram&quot; title=&quot;ZRAM Wikipedia&quot;&gt;ZRAM&lt;/a&gt; to appropriate a percentage of total RAM as compressed block devices. Data stored in the area will be compressed and will take up less memory than if they weren’t.&lt;/p&gt;

&lt;p&gt;Realize though that ZRAM will put a little more load on the CPU since it now has to compress/decompress data in that portion. So if you also reaching or exceeding the CPU limits of your VPS you should do testing to see if ZRAM helps your situation or perhaps consider actually upgrading your VPS.&lt;/p&gt;

&lt;p&gt;Note some commands listed below may require superuser priviledges. Either&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;su&lt;/code&gt; command to change the login session’s owner to root; or&lt;/li&gt;
  &lt;li&gt;prepend the commands with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt; (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo swapon -s&lt;/code&gt;); or&lt;/li&gt;
  &lt;li&gt;login as root directly&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;checking-kernel-support&quot;&gt;Checking Kernel Support:&lt;/h3&gt;

&lt;p&gt;In a terminal run this command:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;modprobe -nv zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the result is a path to zram.ko then your kernel supports zram as a loadable module.&lt;/p&gt;

&lt;h3 id=&quot;checking-if-zram-is-already-enabled&quot;&gt;Checking if ZRAM is Already Enabled:&lt;/h3&gt;

&lt;p&gt;Some distributions come with ZRAM enabled by default (such as Lubuntu). Before continuing onward we should double check to ensure we are not trying to accomplish something that is already done.&lt;br /&gt;
Check to see if the module is loaded:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsmod | grep zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If it is loaded (the result is a line starting with zram) check to see if the compressed block devices are setup and running as available swap devices:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swapon -s&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you see devices listed such as /dev/zram0, /dev/zram1,… then ZRAM is already running and there is nothing you need to do further.&lt;/p&gt;

&lt;h3 id=&quot;creating-the-udev-rule&quot;&gt;Creating the udev rule&lt;/h3&gt;

&lt;p&gt;Enable the module:&lt;br /&gt;
/etc/modules-load.d/zram.conf&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Configure the number of /dev/zram nodes you need.&lt;br /&gt;
/etc/modprobe.d/zram.conf&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options zram num_devices=2&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create the udev rule as shown in the example.&lt;br /&gt;
/etc/udev/rules.d/99-zram.rules&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KERNEL==&quot;zram0&quot;, ATTR{disksize}=&quot;512M&quot; RUN=&quot;/sbin/mkswap /dev/zram0&quot;, TAG+=&quot;systemd&quot;&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;KERNEL==&quot;zram1&quot;, ATTR{disksize}=&quot;512M&quot; RUN=&quot;/sbin/mkswap /dev/zram1&quot;, TAG+=&quot;systemd&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Add /dev/zram to your fstab.&lt;br /&gt;
/etc/fstab&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/zram0 none swap sw 0 0&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;/dev/zram1 none swap sw 0 0&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;As for how large should the zram devices be in total depends on the kind of workload, note the following comment from one of ZRAM’s developers (back when it was known as Compcache): &lt;a href=&quot;https://code.google.com/p/compcache/wiki/CompilingAndUsingNew&quot; title=&quot;ZRAM (Compcache) Nitin Gupta Comment&quot;&gt;https://code.google.com/p/compcache/wiki/CompilingAndUsingNew&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;span class=&quot;author&quot;&gt;Comment by project member &lt;a href=&quot;https://code.google.com/u/nitingupta910@gmail.com/&quot;&gt;nitingupta910@gmail.com&lt;/a&gt;, &lt;/span&gt; &lt;span class=&quot;date&quot; title=&quot;Fri May 7 01:35:52 2010&quot;&gt;May 7, 2010&lt;/span&gt;&lt;/p&gt;

  &lt;p&gt;@Paczesiowa: ramzswap should not be given so much of memory as its just a (virtual) swap device — it can compress only anonymous (say, process stack, heap etc.) memory. There are also other kinds of caches in the system, say filesystem cache which also require lot of memory. So, to have a good balance among all the different caches, ramzswap should not be given nearly 100% of RAM.&lt;/p&gt;

  &lt;p&gt;Appropriate amount of ramzswap memory depends on kind of workload. For typical desktop workloads, I found 25% to work just fine (this is the default).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;reboot&quot;&gt;Reboot:&lt;/h3&gt;

&lt;p&gt;Reboot.&lt;/p&gt;

&lt;h3 id=&quot;verify&quot;&gt;Verify:&lt;/h3&gt;

&lt;p&gt;Verify that the module is loaded:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsmod | grep zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the result is a line starting with zram then it is loaded.&lt;/p&gt;

&lt;p&gt;Verify that the compressed block devices are setup and running as available swap devices:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swapon -s&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you see devices listed such as /dev/zram0, /dev/zram1,… then the compressed block devices are enabled as swap devices and the setup of ZRAM is complete.&lt;/p&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry><entry><title type="html">Installing Bodhi Linux on an Acer C720 Chromebook with SeaBIOS as default.</title><link href="http://localhost:4000/installing-bodhi-linux-on-an-acer-c720-chromebook-with-seabios-as-default/" rel="alternate" type="text/html" title="Installing Bodhi Linux on an Acer C720 Chromebook with SeaBIOS as default." /><published>2014-12-15T10:59:22-08:00</published><updated>2014-12-15T10:59:22-08:00</updated><id>http://localhost:4000/installing-bodhi-linux-on-an-acer-c720-chromebook-with-seabios-as-default</id><content type="html" xml:base="http://localhost:4000/installing-bodhi-linux-on-an-acer-c720-chromebook-with-seabios-as-default/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;We have an Acer C720 Chromebook and want Chrome OS removed and Bodhi Linux installed on it. Additionally we want to have it boot to Linux by default without having to start SeaBIOS manually by pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl + L&lt;/code&gt; at the white boot splash screen.&lt;/p&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;Acer C720 Chromebook with Chrome OS removed and Bodhi Linux installed with SeaBIOS booting by default.&lt;/p&gt;

&lt;h2 id=&quot;plan--execution&quot;&gt;Plan + Execution:&lt;/h2&gt;

&lt;h3 id=&quot;outline&quot;&gt;Outline&lt;/h3&gt;

&lt;p&gt;The general installation procedure:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Enable developer mode to allow access to the superuser shell in Chrome OS.&lt;/li&gt;
  &lt;li&gt;Accessing the superuser shell.&lt;/li&gt;
  &lt;li&gt;Enable legacy boot / SeaBIOS.&lt;/li&gt;
  &lt;li&gt;Set SeaBIOS as default.&lt;/li&gt;
  &lt;li&gt;Prepare the installation media (USB stick).&lt;/li&gt;
  &lt;li&gt;Boot from the installation media and install Bodhi Linux.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;enabling-developer-mode&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Enabling_Developer_Mode&quot;&gt;Enabling Developer Mode&lt;/span&gt;&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Turn on the Chromebook.&lt;/li&gt;
  &lt;li&gt;Press and hold the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc + F3 (Refresh)&lt;/code&gt; keys, then press the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Power&lt;/code&gt; button. This enters Recovery Mode.&lt;/li&gt;
  &lt;li&gt;Press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl + D&lt;/code&gt; (no prompt). It will ask you to confirm, then the system will revert its state and enable Developer Mode.&lt;/li&gt;
&lt;/ol&gt;

&lt;div&gt; **Note:** Press `Ctrl + D` (or wait 30 seconds for the beep and boot) at the white boot splash screen to enter Chrome OS.&lt;/div&gt;
&lt;h3 id=&quot;accessing-the-superuser-shell&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Accessing_the_superuser_shell&quot;&gt;Accessing the superuser shell&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;Start a terminal session. There are two ways to start a terminal session in Chrome OS (in dev-mode): VT-2 or crosh. For our purposes here it does not matter which way is used.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca9ce48&quot; tabindex=&quot;0&quot; title=&quot;Get the command prompt through VT-2&quot;&gt;Get the command prompt through VT-2&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca9ce48&quot;&gt;&amp;gt; #### Get the command prompt through VT-2
&amp;gt; 
&amp;gt; One way to get the login prompt is through something called VT-2, or “virtual terminal 2”. This is probably familiar to the Linux hackers out there. You can get to VT-2 by pressing:
&amp;gt; 
&amp;gt; &lt;div&gt;[ Ctrl ] [ Alt ] [ =&amp;gt; ]&lt;/div&gt;…where the \[ =&amp;gt; \] key is the right-arrow key just above the number 3 on your keyboard.
&amp;gt; 
&amp;gt; Once you have the login prompt, you should see a set of instructions telling you about command-line access. &lt;span style=&quot;color: #ff0000;&quot;&gt;By default, you can login as the &lt;/span&gt;`chronos`&lt;span style=&quot;color: #ff0000;&quot;&gt; user with no password. This includes the ability to do password-less sudo.&lt;/span&gt; The instructions on the screen will tell you how you can set a password. They also tell you how to disable screen dimming.
&amp;gt; 
&amp;gt; &lt;div&gt;The instructions do tell you how to get back to the browser, but because it’s so important, I’ll also put it here. Just press:&lt;/div&gt;&amp;gt; &lt;div&gt;&lt;div&gt;[ Ctrl ] [ Alt ] [ &amp;lt;= ]&lt;/div&gt;&lt;/div&gt;
&amp;gt; 
&amp;gt; &lt;div&gt;…where the [ &amp;lt;= ] key is the left-arrow key just above the number 1 on your keyboard.&lt;/div&gt;**SIDE NOTE**: For the technical-minded, you may realize that the top-rows of the keyboard on a Chrome OS device are actually treated by Linux as the keys F1 through F10. Thus, the \[ =&amp;gt; \] key is actually F2 and the \[ &amp;lt;= \] key is actually F1.
&amp;gt; 
&amp;gt; **SIDE NOTE**: If you’re fooling around, you might also notice that kernel messages show up on VT-8.
&amp;gt; 
&amp;gt; - - - - - -

&lt;/div&gt;
&lt;p&gt;&lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca9ce87&quot; tabindex=&quot;0&quot; title=&quot;Getting the command prompt through crosh&quot;&gt;Getting the command prompt through crosh&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca9ce87&quot;&amp;gt;#### Getting the command prompt through crosh&lt;/p&gt;

&lt;div&gt;Because you booted into developer mode, you also have an alternate way to get a terminal prompt. I’ll mention this as well, since the alternate shell is a little nicer (in the very least, it keeps your screen from dimming on you), even if it is a little harder to get to. To use this alternate way:&lt;/div&gt;
&lt;div&gt;1. Go through the standard Chrome OS login screen (you’ll need to setup a network, etc) and get to the web browser. It’s OK if you login as guest.
2. Press \[ Ctrl \] \[ Alt \] \[ T \] to get the crosh shell.
3. Use the `shell` command to get the shell prompt. NOTE: even if you set a password for the `chronos` user, you won’t need it here (though you still need it for `sudo` access)

&lt;/div&gt;
&lt;p&gt;Note that entering the shell this way doesn’t give you all the instructions that VT-2 does (like how to set your password). You might want to follow the VT-2 steps once just to get the instructions.&lt;/p&gt;

&lt;p&gt;If you want to get back to the browser without killing the shell, you can do it with [ Alt ] [ Tab ].&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;SIDE NOTE&lt;/strong&gt;: You can actually create as many shells as you want. Just hit [ Ctrl ] [ Alt ] [ T ] again and a second shell will be opened. You can [ Alt ] [ Tab ] between them.&lt;/p&gt;

&lt;p&gt;&amp;lt;/div&amp;gt;In the terminal open a bash shell with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shell&lt;/code&gt; command. Then become superuser with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo bash&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;enabling-seabios&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Enabling_SeaBIOS&quot;&gt;Enabling SeaBIOS&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;This method will allow you to access the pre-installed version of SeaBIOS through the Developer Mode screen in Coreboot.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Inside your superuser shell enter:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossystem dev_boot_usb=1 dev_boot_legacy=1&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Reboot the machine.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can now start SeaBIOS by pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl + L&lt;/code&gt; at the white boot splash screen.&lt;/p&gt;

&lt;h3 id=&quot;boot-to-seabios-by-default&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Boot_to_SeaBIOS_by_default&quot;&gt;Boot to SeaBIOS by default&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;To boot SeaBIOS by default, you will need to run &lt;a href=&quot;https://chromium.googlesource.com/chromiumos/platform/vboot_reference/+/master/scripts/image_signing/set_gbb_flags.sh&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set_gbb_flags.sh&lt;/code&gt;&lt;/a&gt; in Chrome OS (already included in Chrome OS).&lt;/p&gt;

&lt;div&gt; **Note:** It is a good idea to do this and have SeaBIOS boot by default even if you do not mind pressing `Ctrl + L` at boot. The reason being is if you do not set the GBB flags then your system might become corrupted on empty battery, Chrome OS will be forced to recover and you will lose your Linux installation on the internal storage.&lt;/div&gt;
&lt;div&gt; **Warning:** If you do not disable the write protection before setting the GBB flags you endanger wiping out the RW-LEGACY part of the firmware (i.e. SeaBIOS) and your system might not boot (should be recoverable with Chrome OS recovery media). Updated versions of [`set_gbb_flags.sh`](https://chromium.googlesource.com/chromiumos/platform/vboot_reference/+/master/scripts/image_signing/set_gbb_flags.sh) won’t let you set the GBB flags without disabling the write protection.&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Disable the hardware write protection by removing screw 7 here: &lt;a href=&quot;http://www.chromium.org/_/rsrc/1381990807648/chromium-os/developer-information-for-chrome-os-devices/acer-c720-chromebook/c720-chromebook-annotated-innards.png&quot;&gt;http://www.chromium.org/_/rsrc/1381990807648/chromium-os/developer-information-for-chrome-os-devices/acer-c720-chromebook/c720-chromebook-annotated-innards.png &lt;/a&gt;Note: Putting the cover back on with just screw 6 in should be enough to boot and complete the rest of the needed steps before putting the write-protect screw back in.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Boot and start a &lt;a href=&quot;https://wiki.archlinux.org/index.php/Chromebook#Accessing_the_superuser_shell&quot; title=&quot;Chromebook&quot;&gt;superuser shell&lt;/a&gt; and enter:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo su&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Disable the software write protection.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom --wp-disable&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Check that write protection is disabled.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom --wp-status&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set_gbb_flags.sh&lt;/code&gt; with no parameters.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set_gbb_flags.sh&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;div&gt; **Note:** Recent versions of Chrome OS have moved the script to /usr/share/vboot/bin/set_gbb_flags.sh which isn’t in $PATH by default.&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;Make sure you get the following output.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GBB_FLAG_DEV_SCREEN_SHORT_DELAY 0x00000001&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;GBB_FLAG_FORCE_DEV_SWITCH_ON 0x00000008&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;GBB_FLAG_FORCE_DEV_BOOT_LEGACY 0x00000080&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;GBB_FLAG_DEFAULT_DEV_BOOT_LEGACY 0x00000400&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Now set SeaBIOS as default.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# set_gbb_flags.sh 0x489&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Enable back the software write protection.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom --wp-enable&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;&lt;br /&gt;
Your Chromebook now will boot to SeaBIOS by default, at this point you should re-enable the hardware write protection by reinserting the write protect screw.&lt;/p&gt;

&lt;h3 id=&quot;prepare-the-installation-media&quot;&gt;Prepare the Installation Media&lt;/h3&gt;

&lt;p&gt;Navigate and retrieve the latest Bodhi Linux ISO from here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://sourceforge.net/projects/bodhilinux/files/?source=navbar&quot; title=&quot;Bodhi Linux ISO&quot;&gt;http://sourceforge.net/projects/bodhilinux/files/?source=navbar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As of this writing the current one we want is: &lt;a href=&quot;http://sourceforge.net/projects/bodhilinux/files/3.0.0-rc1/bodhi-3.0.0-chromebook-rc1.iso/download&quot; title=&quot;bodhi-3.0.0-chromebook-rc1.iso&quot;&gt;bodhi-3.0.0-chromebook-rc1.iso&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Assuming we are preparing the installation media in a Linux environment, change to the directory where you have downloaded the ISO image to and run:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd if=bodhi-c720-chromebook-rc1.iso of=/dev/sdX&lt;/code&gt;&lt;br /&gt;
Where X is replaced with the drive letter of your USB stick. A quick way to find this out is checking the output of the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dmesg&lt;/code&gt; after inserting the usb drive.&lt;/p&gt;

&lt;p&gt;If you prefer a GUI tool or are using OSX/Windows to create the flash drive you can find detailed information on this process &lt;a href=&quot;https://help.ubuntu.com/community/Installation/FromImgFiles&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;boot-from-the-installation-media-and-install-bodhi-linux&quot;&gt;Boot From the Installation Media and Install Bodhi Linux&lt;/h3&gt;

&lt;p&gt;Since we have set SeaBIOS to boot by default we will not need to press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl + L&lt;/code&gt; at the white boot splash screen.&lt;/p&gt;

&lt;p&gt;A message will appear to press the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt; key to select to bring up the boot menu, proceed to do so and select your USB device from the list it provides.&lt;/p&gt;

&lt;p&gt;From this point you can follow the &lt;a href=&quot;http://wiki.bodhilinux.com/doku.php?id=installation_instructions#iiboot_into_the_live_environment&quot;&gt;normal Bodhi install instructions&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;comments&quot;&gt;Comments&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;r3spo says&lt;br /&gt;
January 19, 2015 at 3:10 am&lt;/p&gt;

    &lt;p&gt;Thanks for the guide, do you think this is working also on an HP14? (not he pavillion, the newest one).&lt;br /&gt;
 Cheers&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Code Apex says&lt;br /&gt;
 January 19, 2015 at 6:20 pm&lt;/p&gt;

        &lt;p&gt;The HP14 is SeaBIOS as well so I believe it should work though I have not tried it; but do note the location of the write protect screw is different: &lt;a href=&quot;http://s290.photobucket.com/user/bond304/media/IMG_5313_zpsacbb2723.jpg.html&quot;&gt;HP14 Write Protect Screw&lt;/a&gt;&lt;br /&gt;
  Also note these directions will not work for really old Chromebooks without SeaBIOS though (such as the Acer C710).&lt;br /&gt;
  Regarding the Bodhi part specifically the creator of Bodhi Linux, Jeff Hoogland, has a blog post about picking up a HP14 &lt;a href=&quot;http://jeffhoogland.blogspot.ca/2014/03/buying-chromebooks-for-their-hardware.html&quot;&gt;here&lt;/a&gt; so I suspect installing Bodhi would work fine.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry><entry><title type="html">Encrypting Data on a Linux VPS - LUKS Encrypted Volume via File Method</title><link href="http://localhost:4000/encrypting-data-on-a-linux-vps-luks-encrypted-volume-via-file-method/" rel="alternate" type="text/html" title="Encrypting Data on a Linux VPS - LUKS Encrypted Volume via File Method" /><published>2014-09-11T14:25:02-07:00</published><updated>2014-09-11T14:25:02-07:00</updated><id>http://localhost:4000/encrypting-data-on-a-linux-vps-luks-encrypted-volume-via-file-method</id><content type="html" xml:base="http://localhost:4000/encrypting-data-on-a-linux-vps-luks-encrypted-volume-via-file-method/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;You wish to have certain files encrypted on your VPS and you do not want to repartition to accommodate an encrypted volume on a partition or logical volume.&lt;/p&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;A mountable LUKS encrypted volume based on a file in the filesystem.&lt;/p&gt;

&lt;h2 id=&quot;plan--execution&quot;&gt;Plan + Execution:&lt;/h2&gt;

&lt;h3 id=&quot;install-cryptsetup&quot;&gt;Install cryptsetup:&lt;/h3&gt;

&lt;p&gt;If cryptsetup is not installed already, use the appropriate command to install it for your distro.&lt;/p&gt;

&lt;p&gt;Debian based:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt-get install cryptsetup&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;create-encrypted-volume-file&quot;&gt;Create Encrypted Volume File:&lt;/h3&gt;

&lt;p&gt;An empty non-sparse file is needed to serve as the encrypted volume. We will create such a file of 1G in size named enc-vol-1G at the root level directory, feel free to substitute your own size, name and location preferences for this file; the same goes for any arbitrary naming used here.&lt;/p&gt;

&lt;p&gt;Note we need a non-sparse file meaning the full 1G space has been allocated for the file by the filesystem, so we cannot just use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;touch&lt;/code&gt; command to create the file; our options are either the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fallocate&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd&lt;/code&gt; commands. For creating the file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fallocate&lt;/code&gt; is faster but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd&lt;/code&gt; offers more features, prefilling the allocated space with pseudo-random data using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if=/dev/urandom&lt;/code&gt; for instance.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fallocate -l 1GB /enc-vol-1G&lt;/code&gt;&lt;br /&gt;
or&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd if=/dev/zero of=/enc-vol-1G bs=1M count=1024&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;transform-file-into-a-luks-partition-with-a-filesystem&quot;&gt;Transform File into a LUKS Partition with a Filesystem:&lt;/h3&gt;

&lt;p&gt;Turn the File Into a LUKS Partition:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup -y luksFormat /enc-vol-1G&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Open the LUKS Partition and Setup Mapping Name:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksOpen /enc-vol-1G encrypted_volume&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The mapping name is arbitrary and in our case we chose “encrypted_volume”. After running the command a new device is created: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/mapper/encrypted_volume&lt;/code&gt; which we can treat in a similar manner as one would a disk partition.&lt;/p&gt;

&lt;p&gt;Create a Filesystem on the LUKS Partition:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mke2fs -t ext4 /dev/mapper/encrypted_volume&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Close the LUKS Partition Releasing the Mapping Name and Clearing Key from Kernel Memory:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksClose encrypted_volume&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a Mount Point:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkdir /mnt/secret_stuff&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Mount point name and location are arbitrary; customize per your needs.&lt;/p&gt;

&lt;p&gt;At this point our objective is met and we have a mountable LUKS encrypted volume based on a file in the filesystem.&lt;/p&gt;

&lt;h3 id=&quot;how-to-use&quot;&gt;How to use:&lt;/h3&gt;

&lt;p&gt;Opening the LUKS partition:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksOpen /enc-vol-1G encrypted_volume&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Mounting the Encrypted Volume:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mount /dev/mapper/encrypted_volume /mnt/secret_stuff&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Anything you now copy to /mnt/secret_stuff will be encrypted.&lt;/p&gt;

&lt;p&gt;Examples:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cp secret_file1.txt /mnt/secret_stuff&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cp -R secret_dir /mnt/secret_stuff&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Unmounting:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;umount /mnt/secret_stuff&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Closing the LUKS Partition:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksClose encrypted_volume&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;notes-on-security&quot;&gt;Notes on Security:&lt;/h3&gt;

&lt;p&gt;Remember this maxim: Physical Access = Root Access&lt;/p&gt;

&lt;p&gt;If someone has physical access to a machine they essentially can get root access.&lt;/p&gt;

&lt;p&gt;This is more crucial to note when using a VPS. Not only do the operators of the physical server hosting your VPS have “physical” access to your VPS but so does anyone who hacks the actual machine your VPS is on.&lt;/p&gt;

&lt;p&gt;While a LUKS partition is open the decryption key is stored in the kernel memory. A skilled person with root access can look for the key in memory or if they have “physical” access to the VPS they can just take a snapshot running state image of the VPS and pull the key from the snapshot.&lt;/p&gt;

&lt;p&gt;Essentially what this means is there is a small chance someone could get the encryption key for the encrypted volume while it is unlocked on the VPS.&lt;/p&gt;

&lt;p&gt;With that said a LUKS encrypted volume provides protection in the following scenarios assuming the LUKS partition is not currently open during them:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The VPS itself is hacked by an intruder who gains root access. Even though the intruder has root access on the VPS they do not have the key to open the encrypted volume (&lt;small&gt;technically though if no one noticed the intrusion they could potentially leave some hidden process to patiently wait for the encrypted volume to be opened to grab the key then&lt;/small&gt;).&lt;/li&gt;
  &lt;li&gt;The physical server hosting the VPS is hacked by an intruder who copies all the data from the physical server offsite before getting found and blocked. This data includes all the data on your VPS’s hard disk (and RAM if an intruder took a snapshot of your running VPS) at the time the data was copied; but since the LUKS encrypted volume was closed at the time and the key not in your VPS’s RAM, the intruder will not be able to access the data in the encrypted volume in their copy of your VPS data.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;With that said data stored in a LUKS encrypted volume is more secure than otherwise due to the additional hurdles an intruder would have to navigate to even get a chance to access the data.&lt;/p&gt;

&lt;h2 id=&quot;misc-tips&quot;&gt;Misc Tips:&lt;/h2&gt;

&lt;h3 id=&quot;multiple-passphrases&quot;&gt;Multiple Passphrases:&lt;/h3&gt;

&lt;p&gt;A LUKS device has 8 key slots that can be used for passphrases (or key files if one is inclined) to unlock it. Use the luksDump action of the cryptsetup command to to show the header information for the LUKS device and at the bottom will be information on the key slots.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksDump /enc-vol-1G&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;output snippet with key slot information:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;pre class=&quot;lang:default decode:true&quot;&amp;gt;Key Slot 0: ENABLED
Iterations:             130398
Salt:                   dc 66 3b 57 8b 70 29 d2 ad 36 78 6c 88 01 65 81
98 df 17 7e 16 e6 76 46 d8 53 d7 40 ec a1 11 04
Key material offset:    8
AF stripes:             4000
Key Slot 1: DISABLED
Key Slot 2: DISABLED
Key Slot 3: DISABLED
Key Slot 4: DISABLED
Key Slot 5: DISABLED
Key Slot 6: DISABLED
Key Slot 7: DISABLED
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Key Slot 0 is currently being used for the passphrase we initially setup our LUKS device with. To add an additional passphrase:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksAddKey /enc-vol-1G&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You will be first asked to enter any passphrase that unlocks the volume, then you will be prompted to enter a new additional passphrase that can be used to unlock the volume. The passphrase will use the next available key slot, alternatively to use a specific key slot for the passphrase (ex. using key slot 7): &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup --key-slot 7 luksAddKey /enc-vol-1G&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;To remove a passphrase use the luksRemoveKey action of the cryptsetup command:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksRemoveKey /enc-vol-1G&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You will be prompted for the passphrase you want to remove. Alternatively to disable/remove a specific key slot (ex. remove key slot 7): &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cryptsetup luksKillSlot /enc-vol-1G 7&lt;/code&gt;&lt;/p&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry><entry><title type="html">Increasing Linux VPS RAM for Free Using ZRAM - rc script</title><link href="http://localhost:4000/increasing-linux-vps-ram-for-free-zram-rcscript/" rel="alternate" type="text/html" title="Increasing Linux VPS RAM for Free Using ZRAM - rc script" /><published>2014-07-31T11:03:29-07:00</published><updated>2014-07-31T11:03:29-07:00</updated><id>http://localhost:4000/increasing-linux-vps-ram-for-free-zram-rcscript</id><content type="html" xml:base="http://localhost:4000/increasing-linux-vps-ram-for-free-zram-rcscript/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;You are reaching or exceeding the RAM limits of your Linux VPS.&lt;/p&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;An increase in the amount of non-virtualized memory available to your applications on your VPS without resorting to paying for an upgraded VPS.&lt;/p&gt;

&lt;h2 id=&quot;plan--execution&quot;&gt;Plan + Execution:&lt;/h2&gt;

&lt;p&gt;Note we want an increase in the amount of fast physical memory available to our applications. Increasing virtualized memory (via an increase in swap partition or swap file sizes) would not meet our objective; though if your VPS is on SSDs then upping swap space may not be a bad option since solid state disks are substantially faster than traditional hard disks (but still not as fast as physical memory).&lt;/p&gt;

&lt;p&gt;One way of making more physical memory available to your applications is to be more efficient with the use of the RAM available. We can accomplish this by compressing data stored in memory; specifically we will use &lt;a href=&quot;http://en.wikipedia.org/wiki/Zram&quot; title=&quot;ZRAM Wikipedia&quot;&gt;ZRAM&lt;/a&gt; to appropriate a percentage of total RAM as compressed block devices. Data stored in the area will be compressed and will take up less memory than if they weren’t.&lt;/p&gt;

&lt;p&gt;Realize though that ZRAM will put a little more load on the CPU since it now has to compress/decompress data in that portion. So if you also reaching or exceeding the CPU limits of your VPS you should do testing to see if ZRAM helps your situation or perhaps consider actually upgrading your VPS.&lt;/p&gt;

&lt;p&gt;Note some commands listed below may require superuser priviledges. Either&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;su&lt;/code&gt; command to change the login session’s owner to root; or&lt;/li&gt;
  &lt;li&gt;prepend the commands with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt; (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo swapon -s&lt;/code&gt;); or&lt;/li&gt;
  &lt;li&gt;login as root directly&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;checking-kernel-support&quot;&gt;Checking Kernel Support:&lt;/h3&gt;

&lt;p&gt;In a terminal run this command:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;modprobe -nv zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the result is a path to zram.ko then your kernel supports zram as a loadable module.&lt;/p&gt;

&lt;h3 id=&quot;checking-if-zram-is-already-enabled&quot;&gt;Checking if ZRAM is Already Enabled:&lt;/h3&gt;

&lt;p&gt;Some distributions come with ZRAM enabled by default (such as Lubuntu). Before continuing onward we should double check to ensure we are not trying to accomplish something that is already done.&lt;br /&gt;
Check to see if the module is loaded:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsmod | grep zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If it is loaded (the result is a line starting with zram) check to see if the compressed block devices are setup and running as available swap devices:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swapon -s&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you see devices listed such as /dev/zram0, /dev/zram1,… then ZRAM is already running and there is nothing you need to do further.&lt;/p&gt;

&lt;h3 id=&quot;creating-the-startup-script&quot;&gt;Creating the Startup Script:&lt;/h3&gt;

&lt;p&gt;If it does not already exist create the file &lt;strong&gt;/etc/init.d/zram&lt;/strong&gt; with the following contents:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;pre class=&quot;lang:sh decode:true&quot; title=&quot;zram&quot;&amp;gt;#!/bin/bash
### BEGIN INIT INFO
# Provides: zram
# Required-Start:
# Required-Stop:
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: Increased Performance In Linux With zRam (Virtual Swap Compressed in RAM)
# Description: Adapted from systemd scripts at https://github.com/mystilleef/FedoraZram
# Included as part of antix-goodies package by anticapitalista &amp;lt;antiX@operamail.com&amp;gt;
# This script was written by tradetaxfree and is found at http://crunchbanglinux.org/forums/topic/15344/zram-a-good-idea/
# Copy this script (as root) from /usr/local/bin to /etc/init.d and then #update-rc.d zram defaults
# After booting verify the module is loaded with: lsmod | grep zram
### END INIT INFO

start() {
    # get the number of CPUs
    num_cpus=$(grep -c processor /proc/cpuinfo)
    # if something goes wrong, assume we have 1
    [ &quot;$num_cpus&quot; != 0 ] || num_cpus=1

    # set decremented number of CPUs
    last_cpu=$((num_cpus - 1))
    
    #default Factor % = 90 change this value here or create /etc/default/zram
    FACTOR=25
    #&amp;amp; put the above single line in /etc/default/zram with the value you want
	[ -f /etc/default/zram ] &amp;amp;&amp;amp; source /etc/default/zram || true
	factor=$FACTOR # percentage

    # get the amount of memory in the machine
    memtotal=$(grep MemTotal /proc/meminfo | awk &apos; { print $2 } &apos;)
    mem_by_cpu=$(($memtotal/$num_cpus*$factor/100*1024))

    # load dependency modules
    # attempt load using syntax for kernels 3.4 onwards falling back to syntax for kernels 3.1 - 3.3
    if ! modprobe zram num_devices=$num_cpus &amp;amp;&amp;amp; ! modprobe zram zram_num_devices=$num_cpus; then
      echo -e &quot;Your Kernel needs to be compiled with ZRAM support:&quot; \
      &quot;\n\nDevice Drivers --&amp;gt; Staging Drivers --&amp;gt; Compressed RAM block device support (M)&quot; \
      &quot;\nDevice Drivers --&amp;gt; Staging Drivers --&amp;gt; Dynamic compression of swap pages and clean pagecache pages (*)&quot; \
      &quot;\n\nThe Liquorix Kernel (http://liquorix.net) has ZRAM support built in.&quot;
      exit 1
    fi
    echo &quot;zram devices probed successfully&quot;
    
    # initialize the devices
    for i in $(seq 0 $last_cpu); do
    echo $mem_by_cpu &amp;gt; /sys/block/zram$i/disksize
    # Creating swap filesystems
    mkswap /dev/zram$i
    # Switch the swaps on
    swapon -p 100 /dev/zram$i
    done
}

stop() {
    # get the number of CPUs
    num_cpus=$(grep -c processor /proc/cpuinfo)

    # set decremented number of CPUs
    last_cpu=$((num_cpus - 1))

    # Switching off swap
    for i in $(seq 0 $last_cpu); do
    if [ &quot;$(grep /dev/zram$i /proc/swaps)&quot; != &quot;&quot; ]; then
    swapoff /dev/zram$i
    sleep 1
    fi
    done

    sleep 1
    rmmod zram
}

case &quot;$1&quot; in
    start)
        start
        ;;
    stop)
        stop
        ;;
    restart)
        stop
        sleep 3
        start
        ;;
    *)
        echo &quot;Usage: $0 {start|stop|restart}&quot;
        RETVAL=1
esac
exit $RETVAL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The original source of this script can be found here:&lt;br /&gt;
&lt;a href=&quot;http://crunchbanglinux.org/forums/topic/15344/zram-a-good-idea/&quot; title=&quot;zram init script&quot;&gt;http://crunchbanglinux.org/forums/topic/15344/zram-a-good-idea/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The creator also notes that the latest version of the script can be found here: &lt;a href=&quot;http://dl.dropbox.com/u/96561917/zram.zip&quot; title=&quot;Latest Version of zram Script&quot;&gt;http://dl.dropbox.com/u/96561917/zram.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We do make some slight changes to the script.&lt;/p&gt;

&lt;p&gt;The if statement for the module loading has been corrected to not exit if it successfully loads using syntax for kernels 3.4 and onward.&lt;/p&gt;

&lt;p&gt;Additionally take note of the change we make to FACTOR in the script from the default 90 to 25. We implement this change due to the following comment from one of ZRAM’s developers (back when it was known as Compcache): &lt;a href=&quot;https://code.google.com/p/compcache/wiki/CompilingAndUsingNew&quot; title=&quot;ZRAM (Compcache) Nitin Gupta Comment&quot;&gt;https://code.google.com/p/compcache/wiki/CompilingAndUsingNew&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;span class=&quot;author&quot;&gt;Comment by project member &lt;a href=&quot;https://code.google.com/u/nitingupta910@gmail.com/&quot;&gt;nitingupta910@gmail.com&lt;/a&gt;, &lt;/span&gt; &lt;span class=&quot;date&quot; title=&quot;Fri May  7 01:35:52 2010&quot;&gt;May 7, 2010&lt;/span&gt;&lt;/p&gt;

  &lt;p&gt;@Paczesiowa: ramzswap should not be given so much of memory as its just a (virtual) swap device — it can compress only anonymous (say, process stack, heap etc.) memory. There are also other kinds of caches in the system, say filesystem cache which also require lot of memory. So, to have a good balance among all the different caches, ramzswap should not be given nearly 100% of RAM.&lt;/p&gt;

  &lt;p&gt;Appropriate amount of ramzswap memory depends on kind of workload. For typical desktop workloads, I found 25% to work just fine (this is the default).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;enabling-the-startup-script&quot;&gt;Enabling the Startup Script:&lt;/h3&gt;

&lt;p&gt;Enable execute permissions on the startup script:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chmod +x /etc/init.d/zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Add the startup script to the default run level:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update-rc.d zram defaults&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;verify&quot;&gt;Verify:&lt;/h3&gt;

&lt;p&gt;Now either run the script manually:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/init.d/zram start&lt;/code&gt;&lt;br /&gt;
or reboot (preferred since this will test if the script auto executes on boot).&lt;/p&gt;

&lt;p&gt;Verify that the module is loaded:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsmod | grep zram&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the result is a line starting with zram then it is loaded.&lt;/p&gt;

&lt;p&gt;Verify that the compressed block devices are setup and running as available swap devices:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swapon -s&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you see devices listed such as /dev/zram0, /dev/zram1,… then the compressed block devices are enabled as swap devices and the setup of ZRAM is complete.&lt;/p&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry><entry><title type="html">Restore an Acer C720 Chromebook to stock after installing Linux on it</title><link href="http://localhost:4000/restore-an-acer-c720-chromebook-to-stock-after-installing-linux-on-it/" rel="alternate" type="text/html" title="Restore an Acer C720 Chromebook to stock after installing Linux on it" /><published>2014-07-25T18:42:23-07:00</published><updated>2014-07-25T18:42:23-07:00</updated><id>http://localhost:4000/restore-an-acer-c720-chromebook-to-stock-after-installing-linux-on-it</id><content type="html" xml:base="http://localhost:4000/restore-an-acer-c720-chromebook-to-stock-after-installing-linux-on-it/">&lt;h2 id=&quot;situation&quot;&gt;Situation:&lt;/h2&gt;

&lt;p&gt;Following a guide on the internet such as this one &lt;a href=&quot;http://www.codeapex.com/installing-bodhi-linux-on-an-acer-c720-chromebook-with-seabios-as-default/&quot; title=&quot;Installing Bodhi Linux on an Acer C720 Chromebook with SeaBIOS as default.&quot;&gt;here&lt;/a&gt; for getting Linux installed on an Acer C720 Chromebook, summarized you:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Switched the Chromebook to Developer Mode&lt;/li&gt;
  &lt;li&gt;Enabled SeaBIOS&lt;/li&gt;
  &lt;li&gt;Made SeaBIOS default on boot.&lt;/li&gt;
  &lt;li&gt;Installed Linux&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;objective&quot;&gt;Objective:&lt;/h2&gt;

&lt;p&gt;Restore the Acer C720 Chromebook back to factory stock.&lt;/p&gt;

&lt;h2 id=&quot;plan--execution&quot;&gt;Plan + Execution:&lt;/h2&gt;

&lt;p&gt;First realize there are essentially two things we want back at stock:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;A fresh Chrome OS installed.&lt;/li&gt;
  &lt;li&gt;The default BIOS and its stock settings.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;restoring-chrome-os&quot;&gt;Restoring Chrome OS&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Find your version of your Chromebook by holding Ctrl+D on boot to get to the recovery screen. You will need it when creating the recovery USB flash drive by entering it when it asks for it in the creation script.&lt;/li&gt;
  &lt;li&gt;Create a recovery USB flash drive for Chrome OS, follow the directions in step 2 here for the OS you are creating the recovery USB flash drive in: &lt;a href=&quot;https://support.google.com/chromebook/answer/1080595?hl=en&quot; title=&quot;Create a recovery USB flash drive&quot;&gt;https://support.google.com/chromebook/answer/1080595?hl=en&lt;/a&gt; or see directions for Linux and Windows below:&lt;br /&gt;
 &lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca93898&quot; tabindex=&quot;0&quot; title=&quot;Directions for creating the recovery USB flash drive in Linux&quot;&gt;Directions for creating the recovery USB flash drive in Linux&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca93898&quot;&amp;gt;
    &lt;ol&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Click this link to download the Recovery Tool: &lt;a href=&quot;https://dl.google.com/dl/edgedl/chromeos/recovery/linux_recovery.sh&quot;&gt;https://dl.google.com/dl/edgedl/chromeos/recovery/linux_recovery.sh&lt;/a&gt;&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Modify the script permissions to allow execution with the following command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ sudo chmod 755 linux_recovery.sh&lt;/code&gt;&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Run the script with root privileges with the following command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ sudo bash linux_recovery.sh&lt;/code&gt;&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Follow the prompts from the tool to complete building the operating system image.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
    &lt;/ol&gt;

    &lt;p&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;
 &lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca938f5&quot; tabindex=&quot;0&quot; title=&quot;Directions for creating the recovery USB flash drive in Windows&quot;&gt;Directions for creating the recovery USB flash drive in Windows&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca938f5&quot;&amp;gt;&lt;/p&gt;
    &lt;ol&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Click this link to download the Recovery Tool: &lt;a href=&quot;https://dl.google.com/dl/chromeos/recovery/chromeosimagecreatorV2.exe&quot;&gt;https://dl.google.com/dl/chromeos/recovery/chromeosimagecreatorV2.exe&lt;/a&gt; If you’re a network administrator for your school, business, or organization, click this link to download the Recovery Tool: &lt;a href=&quot;https://dl.google.com/dl/chromeos/recovery/chromeosimagecreator.exe&quot;&gt;https://dl.google.com/dl/chromeos/recovery/chromeosimagecreator.exe&lt;/a&gt;&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Run the tool and follow the instructions that appear on your screen.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;After you recover your Chromebook, you &lt;strong&gt;&lt;em&gt;must&lt;/em&gt;&lt;/strong&gt; format your USB flash drive or SD card using the Recovery Tool. If you don’t format your USB flash drive or SD card, you won’t be able to use all the storage space on your external device. Additionally, your USB flash drive or SD card may not be recognizable by Windows. &lt;a href=&quot;https://support.google.com/chromebook/answer/2554370&quot;&gt;See instructions for reformatting your USB flash drive or SD card&lt;/a&gt;.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
    &lt;/ol&gt;

    &lt;p&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Reinstall Chrome OS, step 3 here &lt;a href=&quot;https://support.google.com/chromebook/answer/1080595?hl=en&quot; title=&quot;Create a recovery USB flash drive&quot;&gt;https://support.google.com/chromebook/answer/1080595?hl=en&lt;/a&gt; or see directions below:&lt;br /&gt;
 &lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca93916&quot; tabindex=&quot;0&quot; title=&quot;Reinstall Chrome OS, step 3&quot;&gt;Reinstall Chrome OS, step 3&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca93916&quot;&amp;gt;
    &lt;ol&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Start your Chromebook.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;When the “Chrome OS is missing or damaged” screen appears, insert the USB flash drive or SD card you created into the USB port or SD card slot on your Chrome device. Note if the Chromebook is not booting to Recovery mode by default, hold down the &lt;span style=&quot;color: #990000;&quot;&gt;ESC&lt;/span&gt; and &lt;span style=&quot;color: #990000;&quot;&gt;Refresh&lt;/span&gt; (F3) keys and press the &lt;span style=&quot;color: #990000;&quot;&gt;Power&lt;/span&gt; button to get into Recovery mode.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Wait for the Chromebook to boot up from the flash drive.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Follow the instructions that appear on the screen.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;On successful installation of the Chrome operating system, you will be prompted to remove the USB flash drive or SD card.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;Remove the USB flash drive or SD card when prompted, and your Chromebook will automatically restart.&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
    &lt;/ol&gt;

    &lt;p&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;restore-the-default-bios-with-stock-settings&quot;&gt;Restore the default BIOS with stock settings&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Remove the write-protect screw inside the Chromebook. Recall from when you did this to set SeaBIOS as default originally, it is screw 7 here: &lt;a href=&quot;http://www.chromium.org/_/rsrc/1381990807648/chromium-os/developer-information-for-chrome-os-devices/acer-c720-chromebook/c720-chromebook-annotated-innards.png&quot;&gt;http://www.chromium.org/_/rsrc/1381990807648/chromium-os/developer-information-for-chrome-os-devices/acer-c720-chromebook/c720-chromebook-annotated-innards.png &lt;/a&gt;Note: Putting the cover back on with just screw 6 in should be enough to boot and complete the rest of the needed steps before putting the write-protect screw back in.&lt;/li&gt;
  &lt;li&gt;Switch the Chromebook to Developer mode: First hold down the &lt;span style=&quot;color: #990000;&quot;&gt;ESC&lt;/span&gt; and &lt;span style=&quot;color: #990000;&quot;&gt;Refresh&lt;/span&gt; (F3) keys and press the &lt;span style=&quot;color: #990000;&quot;&gt;Power&lt;/span&gt; button to power on the Chromebook. Then at the Recovery screen press &lt;span style=&quot;color: #990000;&quot;&gt;Ctrl-D&lt;/span&gt;. It will ask you to confirm, then reboot into dev-mode.On boot you will see a warning screen and will need to press &lt;span style=&quot;color: #990000;&quot;&gt;Ctrl-D&lt;/span&gt; or wait 30 seconds to continue booting.&lt;/li&gt;
  &lt;li&gt;Start a terminal session. There are two ways to start a terminal session in Chrome OS (in dev-mode): VT-2 or crosh. For our purposes here it does not matter which way is used.&lt;br /&gt;
 &lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca93932&quot; tabindex=&quot;0&quot; title=&quot;Get the command prompt through VT-2&quot;&gt;Get the command prompt through VT-2&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca93932&quot;&amp;gt;&amp;gt; #### Get the command prompt through VT-2
    &lt;blockquote&gt;

      &lt;p&gt;One way to get the login prompt is through something called VT-2, or “virtual terminal 2”. This is probably familiar to the Linux hackers out there. You can get to VT-2 by pressing:&lt;/p&gt;

      &lt;div&gt;[ Ctrl ] [ Alt ] [ =&amp;gt; ]&lt;/div&gt;
      &lt;p&gt;…where the [ =&amp;gt; ] key is the right-arrow key just above the number 3 on your keyboard.&lt;/p&gt;

      &lt;p&gt;Once you have the login prompt, you should see a set of instructions telling you about command-line access. &lt;span style=&quot;color: #ff0000;&quot;&gt;By default, you can login as the &lt;/span&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chronos&lt;/code&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt; user with no password. This includes the ability to do password-less sudo.&lt;/span&gt; The instructions on the screen will tell you how you can set a password. They also tell you how to disable screen dimming.&lt;/p&gt;

      &lt;div&gt;The instructions do tell you how to get back to the browser, but because it’s so important, I’ll also put it here. Just press:&lt;/div&gt;
      &lt;blockquote&gt;
        &lt;div&gt;&lt;div&gt;[ Ctrl ] [ Alt ] [ &amp;lt;= ]&lt;/div&gt;&lt;/div&gt;
      &lt;/blockquote&gt;

      &lt;div&gt;…where the [ &amp;lt;= ] key is the left-arrow key just above the number 1 on your keyboard.&lt;/div&gt;
      &lt;p&gt;&lt;strong&gt;SIDE NOTE&lt;/strong&gt;: For the technical-minded, you may realize that the top-rows of the keyboard on a Chrome OS device are actually treated by Linux as the keys F1 through F10. Thus, the [ =&amp;gt; ] key is actually F2 and the [ &amp;lt;= ] key is actually F1.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;SIDE NOTE&lt;/strong&gt;: If you’re fooling around, you might also notice that kernel messages show up on VT-8.&lt;/p&gt;

      &lt;hr /&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;
 &lt;span class=&quot;collapseomatic &quot; id=&quot;id6361a8ca93961&quot; tabindex=&quot;0&quot; title=&quot;Getting the command prompt through crosh&quot;&gt;Getting the command prompt through crosh&lt;/span&gt;&amp;lt;div class=&quot;collapseomatic_content &quot; id=&quot;target-id6361a8ca93961&quot;&amp;gt;#### Getting the command prompt through crosh&lt;/p&gt;

    &lt;div&gt;Because you booted into developer mode, you also have an alternate way to get a terminal prompt. I’ll mention this as well, since the alternate shell is a little nicer (in the very least, it keeps your screen from dimming on you), even if it is a little harder to get to. To use this alternate way:&lt;/div&gt;
    &lt;div&gt;
 1. Go through the standard Chrome OS login screen (you’ll need to setup a network, etc) and get to the web browser. It’s OK if you login as guest.
 2. Press \[ Ctrl \] \[ Alt \] \[ T \] to get the crosh shell.
 3. Use the `shell` command to get the shell prompt. NOTE: even if you set a password for the `chronos` user, you won’t need it here (though you still need it for `sudo` access)
    
 &lt;/div&gt;
    &lt;p&gt;Note that entering the shell this way doesn’t give you all the instructions that VT-2 does (like how to set your password). You might want to follow the VT-2 steps once just to get the instructions.&lt;/p&gt;

    &lt;p&gt;If you want to get back to the browser without killing the shell, you can do it with [ Alt ] [ Tab ].&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;SIDE NOTE&lt;/strong&gt;: You can actually create as many shells as you want. Just hit [ Ctrl ] [ Alt ] [ T ] again and a second shell will be opened. You can [ Alt ] [ Tab ] between them.&lt;/p&gt;

    &lt;p&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;In the terminal open a bash shell with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shell&lt;/code&gt; command. Then become superuser with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo bash&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Run these commands:
    &lt;ol&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossystem dev_boot_usb=1 dev_boot_legacy=1 disable_dev_request=1&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom --wp-disable&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set_gbb_flags.sh 0×000&amp;lt;br&amp;gt;&amp;lt;/br&amp;gt;&lt;/code&gt;(note: if set_gbb_flags.sh is not found then try this full path to script: /usr/share/vboot/bin/set_gbb_flags.sh 0x000)&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom --wp-enable&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chromeos-firmwareupdate --sb_extract /tmp&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flashrom -w /tmp/bios.bin -i RW_LEGACY&lt;/code&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;Shutdown the Chromebook and replace the write-protect screw. Put the backcover back on with all the screws.&lt;/li&gt;
  &lt;li&gt;The Chromebook should now be returned to stock.&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;comments&quot;&gt;Comments&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;magnus says&lt;br /&gt;
July 4, 2015 at 2:46 pm&lt;/p&gt;

    &lt;p&gt;Per John Lewis’ script, I completely flashed a custom rom such that my chromebook doesn’t get me to the recovery screen after pressing ctrl+D; my SSD is also dedicated entirely to my linux installation. Any ideas on how to get ChromeOs back?&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Code Apex says&lt;br /&gt;
 July 7, 2015 at 11:56 am&lt;/p&gt;

        &lt;p&gt;Assuming you already have the made the recovery usb drive and are just having trouble getting into Recovery mode to restore from the usb drive (Restoring Chrome OS step 3 above): Hold down the ESC and Refresh (F3) keys and press the Power button to get into Recovery mode.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;jesseflb says&lt;br /&gt;
July 8, 2015 at 12:55 am&lt;/p&gt;

    &lt;p&gt;still booting to my Linux installation which is Eos i have already made a recovery drive but when i insert it and power on with the escape and f3 keys held down only the seabios come up then my linux installation ..no chrome os recovery….is there any other work around to this? i am actually removing my linux installation cause i have an issue with my wireless not working anymore just started one day like that ive sen some people with the same problem and there’s no permanent fix only temporary……but switching back solves it and everything workss as new again.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;jesseflb says&lt;br /&gt;
 July 8, 2015 at 12:57 am&lt;/p&gt;

        &lt;p&gt;btw, i am using an acer c720…… i greatly aprreciate any help you can offer&lt;/p&gt;

        &lt;ul&gt;
          &lt;li&gt;
            &lt;p&gt;Code Apex says&lt;br /&gt;
 July 14, 2015 at 10:06 am&lt;/p&gt;

            &lt;p&gt;Try booting normally but tap the space bar as its booting. On my C720 right before seabios it briefly shows a screen that says OS verification is off and says to press space to enable but it only shows for 1-2 seconds before jumping to seabios.&lt;/p&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Brady Osborne says&lt;br /&gt;
August 11, 2015 at 6:02 pm&lt;/p&gt;

    &lt;p&gt;I think my Chromebook is completely shot. I don’t see the recovery mode option at all, although I can boot into Linux. But how do I run these commands since they aren’t available in my distro?&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Code Apex says&lt;br /&gt;
 August 17, 2015 at 9:40 pm&lt;/p&gt;

        &lt;p&gt;Where are you getting stuck and are you using a C720?&lt;br /&gt;
  If you have the usb recovery drive setup and are trying to get the Chromebook to recover from it:&lt;br /&gt;
  You need to get to the recovery screen and press ctrl+d to start the recovery with the usb drive plugged in.&lt;br /&gt;
  If you are having trouble getting to the recovery screen try the following:&lt;br /&gt;
  1) Press and hold the Esc + Refresh keyboard icon keys.&lt;br /&gt;
  2) Press the Power button, then let go.&lt;br /&gt;
  3) Continue holding the Esc + Refresh keyboard icon keys until the “Chrome OS is missing or damaged” message appears, then let go.&lt;/p&gt;

        &lt;p&gt;Some Chromebooks use a special button to enter recovery mode. Refer to your Chromebook’s user manual to find the location of the button.&lt;/p&gt;

        &lt;p&gt;If the above does not work try tapping the space bar while booting to re-enable OS verification.&lt;br /&gt;
  (On my C720 right before seabios it briefly shows a screen that says OS verification is off and says to press space to enable but it only shows for 1-2 seconds before jumping to seabios).&lt;br /&gt;
  When OS verification is enabled then you should be able to enter recovery mode as instructed above.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Phil says&lt;br /&gt;
 February 2, 2016 at 5:43 am&lt;/p&gt;

        &lt;p&gt;Hi, i know this was a long time ago but did ever get this sorted? im in the same position as you were. I have seabios as default and running ubuntu 14.04 … I cannot get to recovery at all on boot, not even sure its still there. always just boot to seabios menu screen then into ubuntu&lt;/p&gt;

        &lt;p&gt;did you find a way to get your c720 back to chromeOS ?&lt;/p&gt;

        &lt;p&gt;any guides would be helpful&lt;/p&gt;

        &lt;p&gt;Thanks&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Chris Taylor says&lt;br /&gt;
November 26, 2015 at 4:47 am&lt;/p&gt;

    &lt;p&gt;Hi,&lt;br /&gt;
 So, I’m in a similar position to the above; I had a linux distort on the SSD of the Acer c720, now I want to get back back to having ChromeOS installed. I have a recovery drive, and this is where I am at:&lt;/p&gt;

    &lt;ol&gt;
      &lt;li&gt;
        &lt;p&gt;Boot into recovery mode and install – done.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;ChromeOS verifies the media and eventually arrives at the “System Recovery Complete” screen – done.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ol&gt;

    &lt;p&gt;On the restart, regardless of whether or not I hit the space bar to re-enable OS verification, it is ignored and the Seagate BIOS screen tries to boot up from SSD (it is unclear what it tries to boot as the text flashes past) then the screen goes black.&lt;/p&gt;

    &lt;p&gt;Have you got any suggestions please?&lt;/p&gt;

    &lt;p&gt;Thanks,
 Chris.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;JD says&lt;br /&gt;
January 4, 2016 at 6:45 am&lt;/p&gt;

    &lt;p&gt;Install Ubuntu Server on my C720 almost 2 yrs ago. Been happy until the SSD died.
 Never changed the BIOS, except to enable USB boot.
 I have the recovery screen, but every attempt fails at the validation/verification step (around 99%) regardless of how the flash storage was made (Linux script, dd, or Chome browser from Windows). Tried 5 different storage devices – SDHC, USB, USB, USB, SDHC … avoided SanDisk.&lt;/p&gt;

    &lt;p&gt;Never undid the write-protect screw, until the keyboard needed to be replaced. That’s what started all of this – swapping a broken keyboard out. Put the write protect screw back before attempting any boot. Basically, that screw was only missing when power was removed.&lt;/p&gt;

    &lt;p&gt;Completely stuck here. Empty SSD, Recovery media seems to be created fine, but never works.
 Any leads before I chuck chuck it?&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Code Apex says&lt;br /&gt;
 January 19, 2016 at 10:37 am&lt;/p&gt;

        &lt;p&gt;For the verification error try using the latest version of the chromebook recovery app to create the media:&lt;br /&gt;
  &lt;a href=&quot;https://chrome.google.com/webstore/detail/chromebook-recovery-utili/jndclpdbaamdhonoechobihbbiimdgai&quot;&gt;https://chrome.google.com/webstore/detail/chromebook-recovery-utili/jndclpdbaamdhonoechobihbbiimdgai&lt;/a&gt;&lt;br /&gt;
  Earlier versions had a bug where it would fail on verification:&lt;br /&gt;
  &lt;a href=&quot;https://code.google.com/p/chromium/issues/detail?id=352442&quot;&gt;https://code.google.com/p/chromium/issues/detail?id=352442&lt;/a&gt;&lt;/p&gt;

        &lt;p&gt;Also is the replacement SSD a SATA 42mm M.2 / NGFF not larger than 128GB? I heard there are issues if trying to put anything larger than 128GB into the C720. Check here to make sure the replacement SSD is compatible with the C720:&lt;br /&gt;
  &lt;a href=&quot;http://www.mydigitaldiscount.com/m.2-ngff-ssd-compatibility-list.html&quot;&gt;http://www.mydigitaldiscount.com/m.2-ngff-ssd-compatibility-list.html&lt;/a&gt;&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;peter says&lt;br /&gt;
February 11, 2016 at 8:13 am&lt;/p&gt;

    &lt;p&gt;Same issue here. on an ACER Chromebook 15, CB5-571
 I flashed SeaBIOS, WIndows 10 immediately boots.
 I do have a very recent Backup of ChromeOS on an DD-Card, but didn’t manage to geet a Backup of the Original BIOS.&lt;/p&gt;

    &lt;p&gt;There;s NO WAY I can get into BIOS Recovery, I think because the Seabios has completely overwritten the original IOS (and therefore, not showing any Chrome Recovery/Developer options.&lt;/p&gt;

    &lt;ol&gt;
      &lt;li&gt;
        &lt;p&gt;I can’t seem to find an original ChromeOS/Coreboot Acer CB5-571 BIOS
 IS someone able to post an original BIOS-version?&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;How to flash this original BIOS to completely replace the SeaBIOS from within Windows?&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ol&gt;

    &lt;p&gt;I’ve been reading and searching a lot, founs some info with Linux commands using Flashrom, maybe someone knows another way of going back to original ChromeOS?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Jacob Meza says&lt;br /&gt;
March 15, 2016 at 12:55 pm&lt;/p&gt;

    &lt;p&gt;I have a toshiba chromebook 2. I replaced the bios and wrote over the entire hard drive with linux.&lt;/p&gt;

    &lt;p&gt;The recovery usb process is freezing when I get to ‘syncing your preferences’.&lt;/p&gt;

    &lt;p&gt;Any help?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ShinyCanoe says&lt;br /&gt;
May 24, 2016 at 3:18 pm&lt;/p&gt;

    &lt;p&gt;I got this to work on an Acer C720. What I did was install Chromium OS on the machine, then followed the steps to “Restore the default BIOS with stock settings.” Once the bios was restored I could use the repair usb to reinstall factory chrome is. Chromium OS is the open source equivalent to ChromeOS and it can be flashed to a USB stick. As long as you can still boot from a USB with Chromium on it, you can follow this tutorial and put your computer back good as new. Instructions for installing Chromium can be found here: &lt;a href=&quot;http://arnoldthebat.co.uk/wordpress/chromium-os/&quot;&gt;http://arnoldthebat.co.uk/wordpress/chromium-os/&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;jimmy says&lt;br /&gt;
September 10, 2016 at 4:26 pm&lt;/p&gt;

    &lt;p&gt;how do i backup bios onto sd card and restore it at a later point ?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;sanjay says&lt;br /&gt;
September 11, 2016 at 11:49 am&lt;/p&gt;

    &lt;p&gt;Hi ShinyCanoe,
I was able to start Chromium OS from SD card, I can see Chromium OS login. what steps you followed to “Restore default BIOS with stock settings…”&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Ando says&lt;br /&gt;
October 20, 2016 at 6:43 am&lt;/p&gt;

    &lt;p&gt;Thanks for the guide! Worked perfectly 🙂&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Barry says&lt;br /&gt;
January 6, 2017 at 11:20 pm&lt;/p&gt;

    &lt;p&gt;Thanks for this detailed guide.
Worked perfectly on my C720.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;tuxnet says&lt;br /&gt;
August 14, 2017 at 11:04 am&lt;/p&gt;

    &lt;p&gt;Thank you.&lt;/p&gt;

    &lt;p&gt;Work like a charm.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;</content><author><name>Code Apex</name></author><category term="Uncategorized" /><summary type="html">Situation:</summary></entry></feed>